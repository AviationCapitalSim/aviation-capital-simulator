<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Human Resources - Aviation Capital Simulator</title>
  <link rel="stylesheet" href="styles.css?v=3.1" />
  <style>
    /* === HR MODULE (ACS Unified Dashboard Design) === */
    body {
      margin: 0;
      background-color: #081530;
      color: white;
      font-family: "Segoe UI", sans-serif;
    }

    h2 {
      text-align: center;
      color: #FFB300;
      margin-top: 2rem;
      margin-bottom: 0.4rem;
    }

    p.sub {
      text-align: center;
      color: #ccc;
      margin-bottom: 2rem;
    }

    .finance-panels {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
      padding: 0 1.5rem 3rem;
    }

    .panel {
      background: #0b1c3f;
      border-radius: 12px;
      padding: 1.2rem 1.5rem;
      border: 1px solid rgba(255,179,0,0.25);
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }

    .panel:hover { transform: scale(1.02); }

    .panel h3 {
      color: #FFB300;
      margin-bottom: 0.8rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 0.5rem;
    }

    th, td {
      padding: 0.6rem;
      border-bottom: 1px solid #1c2e55;
      text-align: left;
    }

    th {
      color: #FFB300;
      background-color: #102040;
    }

    .salary { color: #ff6464; font-weight: 600; }
    .staff { color: #00d17a; font-weight: 600; }
    .morale { font-weight: 600; color: #00d17a; }

    .bonus-btn {
      background-color: #00a86b;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 6px 12px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .bonus-btn:hover { background-color: #007d4e; }

    .acs-btn {
      background-color: #00a86b;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 8px 14px;
      margin-top: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s ease;
    }
    .acs-btn:hover { background-color: #007d4e; }

    /* === BONUS MODAL === */
    #bonusModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    #bonusModalContent {
      background: #0b1c3f;
      border: 1px solid #FFB300;
      border-radius: 12px;
      padding: 1.5rem 2rem;
      text-align: center;
      width: 350px;
      box-shadow: 0 0 15px rgba(255,179,0,0.4);
      position: relative;
    }

    #bonusModal h3 { color: #FFB300; margin-bottom: 1rem; }
    #bonusModal input[type="range"] { width: 80%; margin: 1rem 0; }

    .close-modal {
      background: none;
      border: none;
      color: #aaa;
      font-size: 1.2rem;
      cursor: pointer;
      position: absolute;
      top: 10px;
      right: 20px;
    }
  </style>
</head>

<body>
  <!-- ===== HEADER ===== -->
  <header class="acs-header">
    <div class="acs-logo">
      <img src="acs_logo.png" alt="ACS Logo" />
      <h1>Aviation Capital Simulator</h1>
    </div>

    <nav class="acs-nav">
      <a href="dashboard.html">Main</a>
      <a href="finance.html">Finance</a>
      <a href="aircraft.html">Aircraft</a>
      <a href="routes.html">Routes</a>
      <a href="market.html">Market</a>
      <a href="hr.html" class="active">HR</a>
      <a href="forum.html">Forum</a>
      <a href="profile.html">Profile</a>
      <a href="support.html">Support</a>
      <a href="#" class="logout-btn" onclick="handleLogout()">Logout</a>
    </nav>
  </header>

  <!-- ===== MAIN ===== -->
  <main class="acs-main">
    <h2>üë• Human Resources Department</h2>
    <p class="sub">Manage all staff, morale, payroll and bonuses across the company.</p>

    <section class="finance-panels">
      <!-- üü® HR OVERVIEW -->
      <div class="panel">
        <h3>üìä HR Overview</h3>
        <p>Total Staff: <strong id="totalStaff">1,990 / 1,949</strong></p>
        <p>Total Payroll: <strong id="totalPayroll">$2,830,291 / month</strong></p>
        <p>Average Morale: <strong id="avgMorale">100%</strong></p>
        <p>Staff Coverage: <strong id="coverage">102%</strong></p>
      </div>

      <!-- üßë‚Äçüíº DEPARTMENT CONTROL -->
<div class="panel">
  <h3>üßë‚Äçüíº Department Control</h3>
  <p>Total Departments: <strong>5</strong></p>
  <p>Total Staff: <strong>1,949 Employees</strong></p>
  <p>Average Morale: <strong>97%</strong></p>
  <p>Monthly Payroll: <strong>$2,830,291</strong></p>
  <br />
  <button class="acs-btn" onclick="window.location.href='department_control.html'">
    üè¢ Open Department Control Center
  </button>
</div>

      <!-- üí∞ PAYROLL SUMMARY -->
      <div class="panel">
        <h3>üí∞ Payroll & Bonuses</h3>
        <p>This Month Payroll: <strong id="payrollTotal">$2,830,291</strong></p>
        <p>Bonuses Applied: <strong id="bonusTotal">$0</strong></p>
        <p>Expense Share: <strong id="expenseShare">41%</strong></p>
        <button class="acs-btn" onclick="resetBonuses()">Reset Bonuses</button>
      </div>

      <!-- ‚úàÔ∏è OPERATIONAL IMPACT -->
      <div class="panel">
        <h3>‚úàÔ∏è Operational Impact</h3>
        <p>Flight Efficiency: <strong id="efficiency">94%</strong></p>
        <p>Delay Risk: <strong id="delayRisk">Low</strong></p>
        <p>Maintenance Reliability: <strong id="reliability">98%</strong></p>
      </div>
    </section>
  </main>

  <!-- ===== BONUS MODAL ===== -->
  <div id="bonusModal">
    <div id="bonusModalContent">
      <button class="close-modal" onclick="closeBonusModal()">‚úñ</button>
      <h3>Assign Bonus</h3>
      <p id="bonusDeptName">Department</p>
      <input type="range" min="20" max="100" step="10" value="20" id="bonusRange">
      <p>Bonus: <span id="bonusValue">20%</span></p>
      <p>Estimated Cost: <span id="bonusCost">0</span> USD</p>
      <button class="acs-btn" onclick="confirmBonus()">Confirm</button>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer class="acs-footer">
    <p>¬© 2025 Aviation Capital Simulator. All rights reserved.</p>
  </footer>

  <!-- ===== SCRIPT ===== -->
  <script>
    const ACS = {
      finance: { cash: 40000000, bonuses: 0 },
      hr: {
        departments: {
          management: { name: "High Level Management", salary: 4040, staff: 20, morale: 96 },
          maintenance: { name: "Maintenance", salary: 3200, staff: 260, morale: 100 },
          operations: { name: "Flight Operations", salary: 7000, staff: 250, morale: 98 },
          cabin: { name: "Cabin Crew", salary: 1500, staff: 225, morale: 97 },
          ground: { name: "Ground Handling", salary: 1200, staff: 228, morale: 95 }
        }
      }
    };

    let currentDept = null;

    // === BONUS MODAL CONTROL ===
    document.querySelectorAll(".bonus-btn").forEach(btn => {
      btn.addEventListener("click", e => {
        currentDept = e.target.dataset.dept;
        openBonusModal(currentDept);
      });
    });

    function openBonusModal(dept) {
      const modal = document.getElementById("bonusModal");
      const range = document.getElementById("bonusRange");
      range.value = 20;
      updateBonusCost();
      document.getElementById("bonusDeptName").textContent = ACS.hr.departments[dept].name;
      modal.style.display = "flex";
    }

    document.getElementById("bonusRange").addEventListener("input", updateBonusCost);

    function updateBonusCost() {
      const percent = parseInt(document.getElementById("bonusRange").value);
      const dept = ACS.hr.departments[currentDept];
      const cost = dept.salary * dept.staff * (percent / 100);
      document.getElementById("bonusValue").textContent = percent + "%";
      document.getElementById("bonusCost").textContent = cost.toLocaleString();
    }

    function confirmBonus() {
      const percent = parseInt(document.getElementById("bonusRange").value);
      const dept = ACS.hr.departments[currentDept];
      const cost = dept.salary * dept.staff * (percent / 100);
      const moraleBoost = percent / 5;
      dept.morale = Math.min(100, dept.morale + moraleBoost);
      ACS.finance.cash -= cost;
      ACS.finance.bonuses += cost;
      document.getElementById("bonusTotal").textContent = "$" + ACS.finance.bonuses.toLocaleString();
      document.getElementById("morale" + capitalize(currentDept)).textContent = dept.morale + "%";
      alert(`${dept.name} morale increased to ${dept.morale}% (+${moraleBoost.toFixed(1)}). Cost: $${cost.toLocaleString()}`);
      closeBonusModal();
    }

    function closeBonusModal() { document.getElementById("bonusModal").style.display = "none"; }

    function resetBonuses() {
      ACS.finance.bonuses = 0;
      document.getElementById("bonusTotal").textContent = "$0";
      alert("Bonus records reset for this month.");
    }

    function capitalize(str) { return str.charAt(0).toUpperCase() + str.slice(1); }

    function handleLogout() {
      alert("üëã Session closed. See you soon, Captain!");
      window.location.href = "login.html";
    }
  </script>
</body>
</html>
