<!-- ============================================================
     === ROUTE SCHEDULE MODULE â€” Qatar Luxury Edition ðŸŸ¦âœ¨ ======
     ------------------------------------------------------------
     Version:  v1.2 | Date: 30 NOV 2025
     Update:   Added Qatar Cockpit Time Picker & Aircraft Picker âœˆï¸âœ¨
     ============================================================ -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Route Schedule - Aviation Capital Simulator</title>

  <!-- ======== ACS Styles ======== -->
  <link rel="stylesheet" href="styles.css?v=3.1" />

  <!-- ======== ACS FAVICONS ======== -->
  <link rel="icon" type="image/png" sizes="16x16" href="acs_logo_16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="acs_logo_32.png">
  <link rel="icon" type="image/png" sizes="64x64" href="acs_logo_64.png">
  <link rel="apple-touch-icon" href="acs_logo_180.png">

<style>
/* ============================================================
   === BASE STYLES â€” Qatar Luxury ==============================
   ============================================================ */

body {
  margin: 0;
  background-color: #081530;
  color: white;
  font-family: "Poppins", sans-serif;
}

/* HEADER â€” Exact Dashboard Copy */
.acs-header {
  position: fixed;
  top: 0;
  width: 100%;
  backdrop-filter: blur(9px);
  background: rgba(12,23,50,0.45);
  padding: 0.8rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 2px solid #ffb300;
  z-index: 5000;
}

.acs-left { display:flex;align-items:center;gap:1rem; }
.acs-left img { height:46px; }
.acs-left h1 { font-size:1.15rem;margin:0;color:#ffb300; }

.acs-nav { flex:1;display:flex;justify-content:center;gap:2rem; }
.acs-nav a {
  position:relative;font-size:1rem;color:#dbe4ff;
  text-decoration:none;transition:0.25s ease;padding-bottom:6px;
}
.acs-nav a.active,
.acs-nav a:hover {
  color:#ffb300;text-shadow:0 0 6px rgba(255,179,0,0.6);
}
.acs-nav a.active::after,
.acs-nav a:hover::after {
  content:"";position:absolute;bottom:-8px;left:0;width:100%;height:2px;
  background:linear-gradient(to right,#ffb300,#ffe7a0);
  border-radius:2px;box-shadow:0 0 8px rgba(255,200,60,0.45);
}

.acs-right { display:flex;align-items:center;gap:1rem; }

.support-btn {
  padding:0.45rem 1.1rem;border-radius:12px;font-size:0.9rem;font-weight:600;
  cursor:pointer;color:#8AB4FF;border:1px solid rgba(138,180,255,0.45);
  background:rgba(138,180,255,0.08);transition:0.25s ease;
}
.support-btn:hover { background:rgba(138,180,255,0.20); }

.logout-btn {
  padding:0.45rem 1.1rem;border:1px solid #ffb300;border-radius:12px;
  background:rgba(255,179,0,0.05);color:#ffb300;font-weight:600;cursor:pointer;
}
.logout-btn:hover { background:#ffb300;color:#081530; }

.acs-clock-header {
  font-family:"Orbitron",monospace;padding:0.4rem 0.8rem;
  background:rgba(0,255,128,0.08);border-radius:8px;font-size:0.95rem;
  color:#00ff80;
}

/* ============================================================
   === MAIN PANEL ==============================================
   ============================================================ */

.acs-main {
  padding:110px 2rem 60px;
  max-width: 850px;
  margin:auto;
  text-align:center;
}

h2 { color:#ffb300;text-shadow:0 0 6px rgba(255,179,0,0.4); }
.sub { color:#cbd6ff;margin-bottom:2rem; }

.schedule-container {
  background:linear-gradient(180deg,rgba(20,35,70,0.75),rgba(10,18,40,0.85));
  border-radius:24px;padding:2rem;
  border:1px solid rgba(255,179,0,0.18);
  box-shadow:0 8px 32px rgba(0,0,0,0.42);
  text-align:left;
}

/* ============================================================
   === INPUTS ===================================================
   ============================================================ */
label {
  display:block;font-weight:600;color:#ffb300;margin-top:1.1rem;
}

input[readonly] {
  width:100%;padding:0.8rem;margin-top:0.35rem;
  border-radius:14px;border:1px solid rgba(255,179,0,0.15);
  background:#0c1a34;color:#fff;opacity:0.85;
}

/* ============================================================
   === AIRCRAFT PICKER â€” Qatar Cockpit =========================
   ============================================================ */

.cockpit-select {
  width:100%;margin-top:0.4rem;padding:0.85rem 1rem;
  border-radius:14px;border:1px solid rgba(255,200,60,0.25);
  background:#0c1a34;color:#ffca3a;font-size:1.1rem;
  font-family:"Orbitron",monospace;cursor:pointer;
  appearance:none;position:relative;
}

.cockpit-select:focus {
  outline:none;
  box-shadow:0 0 12px rgba(255,200,60,0.4);
  border-color:#ffca3a;
}

.cockpit-select-arrow {
  position:absolute;right:18px;top:50%;transform:translateY(-50%);
  pointer-events:none;font-size:1.1rem;color:#ffca3a;
}

/* ============================================================
   === TIME PICKER ACS (B1) ====================================
   ============================================================ */

.time-picker-container {
  margin-top:0.45rem;
  background:#0b1838;border-radius:18px;
  padding:1rem 1.4rem;
  border:1px solid rgba(255,200,60,0.28);
  box-shadow:0 6px 26px rgba(0,0,0,0.38);
}

.time-columns {
  display:flex;justify-content:center;gap:20px;
}

.time-col {
  width:90px;
  height:120px;
  overflow-y:scroll;
  scrollbar-width:none;
  -ms-overflow-style:none;
  text-align:center;
  font-family:"Orbitron",monospace;
  font-size:1.25rem;
  color:#9fc2ff;
}
.time-col::-webkit-scrollbar { display:none; }

.time-option {
  padding:8px 0;
  opacity:0.45;
}

.time-option.active {
  color:#ffca3a;
  opacity:1;
  font-size:1.45rem;
  font-weight:600;
  text-shadow:0 0 10px rgba(255,200,60,0.6);
}

#finalTime {
  margin-top:1.1rem;text-align:center;
  font-size:1.3rem;font-weight:600;color:#ffca3a;
  font-family:"Orbitron",monospace;
}

.divider {
  border:none;height:1px;
  background:linear-gradient(to right,rgba(255,200,60,0.6),rgba(255,200,60,0.25));
  margin:1.5rem 0;
}

/* BUTTONS */
.acs-btn {
  display:block;background:#00a86b;color:white;
  padding:0.8rem 1.5rem;margin:1.5rem auto;
  border:none;border-radius:14px;font-weight:600;
  cursor:pointer;font-size:1rem;
}

.back-btn {
  display:block;margin:0 auto;
  padding:0.45rem 1.2rem;border-radius:10px;
  border:1px solid #00a86b;color:#00a86b;background:none;
  cursor:pointer;
}
</style>
</head>

<body>

<header class="acs-header">
  <div class="acs-left">
    <img src="acs_logo.png" alt="ACS Logo">
    <h1>Aviation Capital Simulator</h1>
  </div>
  <nav class="acs-nav">
    <a href="dashboard.html">Main</a>
    <a href="finance.html">Finance</a>
    <a href="aircraft.html">Aircraft</a>
    <a href="routes.html" class="active">Routes</a>
    <a href="hr.html">HR</a>
    <a href="forum.html">Forum</a>
  </nav>

  <div class="acs-right">
    <a href="support.html" class="support-btn">Support</a>
    <a class="logout-btn" onclick="handleLogout()">Logout</a>
    <div id="acs-clock" class="acs-clock-header">00:00 â€” 01 JAN 2025</div>
  </div>
</header>


<main class="acs-main">

<h2>ðŸ§­ Route Schedule Setup</h2>
<p class="sub">Plan your route with optimized ACS parameters and constraints.</p>

<div class="schedule-container">

  <!-- ORIGIN / DESTINATION -->
  <label>Origin (ICAO)</label>
  <input type="text" id="origin" readonly />

  <label>Destination (ICAO)</label>
  <input type="text" id="destination" readonly />


  <!-- AIRCRAFT PICKER Qatar Cockpit -->
  <label>Aircraft Type</label>
  <div style="position:relative;">
    <select id="aircraft" class="cockpit-select"></select>
    <span class="cockpit-select-arrow">â–¼</span>
  </div>


  <!-- TIME PICKER ACS COCKPIT -->
  <label>Departure Time (Local)</label>
  <div class="time-picker-container">
    <div class="time-columns">
      <div id="hourCol" class="time-col"></div>
      <div id="minCol" class="time-col"></div>
    </div>
    <div id="finalTime">--:--</div>
  </div>


  <!-- DAYS OF OPERATION -->
  <hr class="divider" />
  <label style="text-align:center;">Days of Operation</label>
  <div class="days-row" style="display:flex;justify-content:center;gap:14px;flex-wrap:wrap;margin-top:0.8rem;">
    <label><input type="checkbox" id="everyDay" onchange="toggleEveryDay()"> Every Day</label>
    <label><input type="checkbox" id="mon"> Mo</label>
    <label><input type="checkbox" id="tue"> Tu</label>
    <label><input type="checkbox" id="wed"> We</label>
    <label><input type="checkbox" id="thu"> Th</label>
    <label><input type="checkbox" id="fri"> Fr</label>
    <label><input type="checkbox" id="sat"> Sa</label>
    <label><input type="checkbox" id="sun"> Su</label>
  </div>

  <hr class="divider" />

  <button class="acs-btn" onclick="confirmRoute()">CONFIRM ROUTE</button>
  <button class="back-btn" onclick="window.location.href='routes.html'">â¬… Back to Routes</button>

</div>
</main>

<footer style="text-align:center;color:#7c8bb8;padding:20px;">
  Â© 2025 Aviation Capital Simulator. All rights reserved.
</footer>

<!-- ============================================================
     === JAVASCRIPT â€” Time Picker + Aircraft Loader =============
     ============================================================ -->

<script>
// ====================================================
// AIRCRAFT PICKER â€” solo modelo, carga futura Fase 2
// ====================================================
document.addEventListener("DOMContentLoaded", () => {
  const acSel = document.getElementById("aircraft");
  acSel.innerHTML = `<option value="">-- Select Aircraft --</option>`;
});


// ====================================================
// TIME PICKER Qatar Cockpit
// ====================================================
const hourCol = document.getElementById("hourCol");
const minCol  = document.getElementById("minCol");
const finalTime = document.getElementById("finalTime");

// Horas 00â€“23
for (let h = 0; h < 24; h++) {
  const div = document.createElement("div");
  const hh = String(h).padStart(2,"0");
  div.className = "time-option";
  div.dataset.val = hh;
  div.innerText = hh;
  hourCol.appendChild(div);
}

// Minutos cada 5
for (let m = 0; m < 60; m += 5) {
  const div = document.createElement("div");
  const mm = String(m).padStart(2,"0");
  div.className = "time-option";
  div.dataset.val = mm;
  div.innerText = mm;
  minCol.appendChild(div);
}

function updateActive(col) {
  const options = col.querySelectorAll(".time-option");
  const mid = col.scrollTop + col.clientHeight/2;

  let closest = null;
  let minDist = Infinity;

  options.forEach(opt => {
    const rect = opt.getBoundingClientRect();
    const dist = Math.abs(rect.top + rect.height/2 - (col.getBoundingClientRect().top + col.clientHeight/2));
    if (dist < minDist) { minDist = dist; closest = opt; }
    opt.classList.remove("active");
  });

  if (closest) closest.classList.add("active");

  const h = hourCol.querySelector(".active")?.dataset.val || "--";
  const m = minCol.querySelector(".active")?.dataset.val || "--";

  finalTime.textContent = `${h}:${m}`;
}

hourCol.addEventListener("scroll", () => updateActive(hourCol));
minCol.addEventListener("scroll", () => updateActive(minCol));

// Inicializar posiciÃ³n en 06:00
setTimeout(() => {
  hourCol.scrollTop = 6 * 40;
  minCol.scrollTop = 0;
  updateActive(hourCol);
  updateActive(minCol);
}, 300);


// ====================================================
// CONFIRM ROUTE â€” placeholder (Fase 2 activa esto)
// ====================================================
function confirmRoute() {
  alert("âš ï¸ System not ready yet â€” Fase 2 will activate real route creation.");
}


// ====================================================
// TOGGLE DAYS
// ====================================================
function toggleEveryDay() {
  const all = document.getElementById("everyDay").checked;
  ["mon","tue","wed","thu","fri","sat","sun"].forEach(id => {
    document.getElementById(id).checked = all;
  });
}


// LOGOUT
function handleLogout() {
  alert("ðŸ‘‹ Session closed. See you soon, Captain!");
  window.location.href = "login.html";
}
</script>

<script src="./time_engine.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  if (typeof registerTimeListener === "function") {
    registerTimeListener(updateClockDisplay);
    updateClockDisplay();
  }
});
</script>

</body>
</html>
